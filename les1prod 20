#include <iostream>
#include <cmath>

using namespace std;

int main() {
    int n; // количество подводных лодок
    double p, p1; // вероятность попадания торпеды и вероятность затопления демаскированной лодки
    cout << "Введите количество подводных лодок: ";
    cin >> n;
    cout << "Введите вероятность попадания торпеды (0 <= p <= 1): ";
    cin >> p;
    cout << "Введите вероятность затопления демаскированной лодки (0 <= p1 <= 1): ";
    cin >> p1;
    double q = (1 - p) * (1 - p1); // вычисляем значение q
    double result = p * (1 - p1) * (1 - pow(q, n)) / (1 - q); // вычисляем вероятность события А
    cout << "Вероятность затопления авианосца и ухода всех лодок без потерь: " << result << endl;
    return 0;
}
